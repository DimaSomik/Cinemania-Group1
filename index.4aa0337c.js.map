{"mappings":"YAAA,IAqBQA,EAnBJC,EAAO,EACPC,EAAoB,EACpBC,EAAa,GACbC,EAAS,GACPC,EAAkBC,SAASC,eAAe,UA0B/C,SAAQC,EAAUC,GACjB,IAAMT,EAAM,sDAAqFU,OAA/BC,QAAQ,yBAA4BD,OAALD,GAEjGG,MAAMZ,GACHa,MAAK,SAAAC,G,OAAYA,EAASC,M,IAC1BF,MAAK,SAAAG,GACJb,EAAaA,EAAWO,OAAOM,EAAKC,SA+BxC,WAGG,IAFH,IAAMC,EA3DcC,OAAOC,WACT,IACT,EAEA,EAyDAC,EAAI,EAAGA,EAAIH,EAAeG,IACjC,MAAInB,EAAoBC,EAAWmB,QAoB5B,CAGLd,IADOP,GAEP,K,CAvBA,IAAMsB,EAAQpB,EAAWD,GACnBsB,EAAaC,EAAcF,EAAMG,WAEjCC,EAAYrB,SAASsB,cAAc,OACzCD,EAAUE,UAAUC,IAAI,cAExBH,EAAUI,UAAY,sDAEpBrB,OAD2Ca,EAAMS,YAAY,WAIjCtB,OAH5Ba,EAAMU,MACP,4EAGQvB,OADqBa,EAAMU,MAAM,wBACjBvB,OAAhBc,EAAW,OACKd,OADAa,EAAMW,aAAaC,MAAM,KAAK,GAAG,uCACJzB,OAA7B0B,EAASb,EAAMc,cAAc,kCAItDhC,EAAgBiC,YAAYX,GAC5BzB,G,EArDAqC,E,IAEDC,OAAM,SAAAC,G,OAASC,QAAQC,IAAIF,E,IAI9B,SAAOhB,EAAcmB,GACrB,OAAOA,EACJC,KAAI,SAAAC,GACH,IAAMC,EAAQ3C,EAAO4C,MAAK,SAAAC,G,OAAKA,EAAEH,KAAOA,C,IACxC,OAAOC,EAAQA,EAAMG,KAAO,kB,IAE7BC,MAAM,EAAG,GACPC,KAAG,K,CAGV,SAAShB,EAASiB,GAGhB,IAFA,IAAMC,EAAYC,KAAKC,MAAMH,EAAO,GAChCI,EAAQ,GACHpC,EAAI,EAAGA,EAAI,EAAGA,IAEnBoC,GADEpC,EAAIiC,EACG,UAEA,UAGb,OAAOG,C,CA1DcnD,SAASC,eAAe,aAgGhCmD,iBAAiB,SAAS,WAEvClD,IADAP,E,KAnFMD,EAAM,yDAAiEU,OAARC,QAAQ,mBAEtEC,MAAMZ,GACVa,MAAK,SAAAC,G,OAAYA,EAASC,M,IAC1BF,MAAK,SAAAG,GACJZ,EAASY,EAAK2C,M,IAEfnB,OAAM,SAAAC,G,OAASC,QAAQC,IAAIF,E,KAiFpB5B,MAAK,W,OAAML,EAAUP,E","sources":["src/partials_js/weekly_trends.js"],"sourcesContent":["const apiKey = '2fd9551be199200f928abc93ae4bceb1'; // Wstaw swój klucz API\n\nlet page = 1;\nlet currentMovieIndex = 0; // Index aktualnie wyświetlanego filmu\nlet moviesList = []; // Lista przechowująca pobrane filmy\nlet genres = []; // Lista przechowująca pobrane gatunki\nconst moviesContainer = document.getElementById('movies');\nconst loadMoreButton = document.getElementById('load-more');\n\n// Funkcja do pobierania liczby filmów na podstawie szerokości ekranu\nfunction getMoviesPerLoad() {\n  const screenWidth = window.innerWidth;\n  if (screenWidth < 768) {\n    return 1; // Wyświetl 1 film na urządzeniach mobilnych\n  } else {\n    return 3; // Wyświetl 3 filmy na tabletach i laptopach\n  }\n}\n\n// Funkcja do pobierania gatunków z TMDb API\nfunction getGenres() {\n  const url = `https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY}&language=pl-PL`;\n\n  return fetch(url)\n    .then(response => response.json())\n    .then(data => {\n      genres = data.genres;\n    })\n    .catch(error => console.log(error));\n}\n\n// Funkcja do pobierania filmów z TMDb API\nfunction getMovies(page) {\n  const url = `https://api.themoviedb.org/3/movie/popular?api_key=${API_KEY}&language=pl-PL&page=${page}`;\n\n  fetch(url)\n    .then(response => response.json())\n    .then(data => {\n      moviesList = moviesList.concat(data.results); // Dodaj filmy do listy\n      displayMovies(); // Wyświetl filmy z nowo pobranych\n    })\n    .catch(error => console.log(error));\n}\n\n// Funkcja do dopasowania gatunków do filmów\nfunction getGenreNames(genreIds) {\n  return genreIds\n    .map(id => {\n      const genre = genres.find(g => g.id === id);\n      return genre ? genre.name : 'Nieznany gatunek';\n    })\n    .slice(0, 2) // Ogranicz do dwóch gatunków\n    .join(', ');\n}\n\nfunction getStars(vote) {\n  const fullStars = Math.floor(vote / 2);\n  let stars = '';\n  for (let i = 0; i < 5; i++) {\n    if (i < fullStars) {\n      stars += '&#9733;'; // Pełna gwiazdka\n    } else {\n      stars += '&#9734;'; // Pusta gwiazdka\n    }\n  }\n  return stars;\n}\n\n// Funkcja do wyświetlania filmów\nfunction displayMovies() {\n  const moviesPerLoad = getMoviesPerLoad(); // Pobierz liczbę filmów do załadowania\n\n  for (let i = 0; i < moviesPerLoad; i++) {\n    if (currentMovieIndex < moviesList.length) {\n      const movie = moviesList[currentMovieIndex]; // Pobierz aktualny film\n      const genreNames = getGenreNames(movie.genre_ids); // Pobierz nazwy gatunków dla filmu\n\n      const movieCard = document.createElement('div');\n      movieCard.classList.add('movie-card');\n\n      movieCard.innerHTML = `\n        <img src=\"https://image.tmdb.org/t/p/w500${movie.poster_path}\" alt=\"${\n        movie.title\n      }\">\n        <div class=\"movie-info\">\n          <h2 class=\"movie-title\">${movie.title}</h2>\n          <p>${genreNames} | ${movie.release_date.split('-')[0]}</p>\n          <div class=\"stars\">${getStars(movie.vote_average)}</div>\n        </div>\n      `;\n\n      moviesContainer.appendChild(movieCard);\n      currentMovieIndex++; // Zwiększ indeks filmu\n    } else {\n      // Jeśli filmy się skończą, załaduj kolejną stronę\n      page++;\n      getMovies(page);\n      break; // Zakończ pętlę, aby czekać na załadowanie nowych filmów\n    }\n  }\n}\n\n// Obsługa przycisku \"Załaduj więcej\"\nloadMoreButton.addEventListener('click', () => {\n  page++;\n  getMovies(page);\n});\n\n// Najpierw pobierz listę gatunków, a potem filmy\ngetGenres().then(() => getMovies(page));\n"],"names":["url","$9dcb73f6d6238453$var$page","$9dcb73f6d6238453$var$currentMovieIndex","$9dcb73f6d6238453$var$moviesList","$9dcb73f6d6238453$var$genres","$9dcb73f6d6238453$var$moviesContainer","document","getElementById","$9dcb73f6d6238453$var$getMovies","page1","concat","API_KEY","fetch","then","response","json","data","results","moviesPerLoad","window","innerWidth","i","length","movie","genreNames","$9dcb73f6d6238453$var$getGenreNames","genre_ids","movieCard","createElement","classList","add","innerHTML","poster_path","title","release_date","split","$9dcb73f6d6238453$var$getStars","vote_average","appendChild","$9dcb73f6d6238453$var$displayMovies","catch","error","console","log","genreIds","map","id","genre","find","g","name","slice","join","vote","fullStars","Math","floor","stars","addEventListener","genres"],"version":3,"file":"index.4aa0337c.js.map"}