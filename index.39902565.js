let e=1,t=0,n=[],o=[];const i=document.getElementById("movies");function a(o){const l=`https://api.themoviedb.org/3/movie/popular?api_key=${API_KEY}&language=pl-PL&page=${o}`;fetch(l).then((e=>e.json())).then((o=>{n=n.concat(o.results),function(){const o=window.innerWidth<768?1:3;for(let l=0;l<o;l++){if(!(t<n.length)){e++,a(e);break}{const e=n[t],o=s(e.genre_ids),a=document.createElement("div");a.classList.add("movie-card"),a.innerHTML=`\n        <img src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.title}">\n        <div class="movie-info">\n          <h2 class="movie-title">${e.title}</h2>\n          <p>${o} | ${e.release_date.split("-")[0]}</p>\n          <div class="stars">${c(e.vote_average)}</div>\n        </div>\n      `,i.appendChild(a),t++}}}()})).catch((e=>console.log(e)))}function s(e){return e.map((e=>{const t=o.find((t=>t.id===e));return t?t.name:"Nieznany gatunek"})).slice(0,2).join(", ")}function c(e){const t=Math.floor(e/2);let n="";for(let e=0;e<5;e++)n+=e<t?"&#9733;":"&#9734;";return n}document.getElementById("load-more").addEventListener("click",(()=>{e++,a(e)})),function(){const e=`https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY}&language=pl-PL`;return fetch(e).then((e=>e.json())).then((e=>{o=e.genres})).catch((e=>console.log(e)))}().then((()=>a(e)));
//# sourceMappingURL=index.39902565.js.map
