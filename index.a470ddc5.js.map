{"mappings":"AAEC,IAAGA,EAAO,EACPC,EAAoB,EACpBC,EAAa,GACbC,EAAS,GACZ,MAAKC,EAAkBC,SAASC,eAAe,UA0B/C,SAAQC,EAAUC,GAGjBC,MAFY,2GAAoFD,KAG7FE,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACJX,EAAaA,EAAWY,OAAOD,EAAKE,SA+BxC,WACA,MAAMC,EA3DcC,OAAOC,WACT,IACT,EAEA,EAyDN,IAAE,IAAIC,EAAI,EAAGA,EAAIH,EAAeG,IACjC,MAAIlB,EAAoBC,EAAWkB,QAoB5B,CAEEpB,IACPO,EAAUP,GACV,K,CAxByC,CACzC,MAAMqB,EAAQnB,EAAWD,GACnBqB,EAAaC,EAAcF,EAAMG,WAEjCC,EAAYpB,SAASqB,cAAc,OACzCD,EAAUE,UAAUC,IAAI,cAExBH,EAAUI,UAAY,sDACuBR,EAAMS,qBACjDT,EAAMU,gFAGsBV,EAAMU,4BAC3BT,OAAgBD,EAAMW,aAAaC,MAAM,KAAK,wCAC9BC,EAASb,EAAMc,8CAIxC/B,EAAgBgC,YAAYX,GAC5BxB,G,GArDAoC,EAAe,IAEhBC,OAAMC,GAASC,QAAQC,IAAIF,I,CAI9B,SAAOhB,EAAcmB,GACrB,OAAOA,EACJC,KAAIC,IACH,MAAMC,EAAQ1C,EAAO2C,MAAKC,GAAKA,EAAEH,KAAOA,IACxC,OAAOC,EAAQA,EAAMG,KAAO,kBAAkB,IAE/CC,MAAM,EAAG,GACPC,KAAG,K,CAGV,SAAShB,EAASiB,GAChB,MAAMC,EAAYC,KAAKC,MAAMH,EAAO,GACpC,IAAII,EAAQ,GACZ,IAAK,IAAIpC,EAAI,EAAGA,EAAI,EAAGA,IAEnBoC,GADEpC,EAAIiC,EACG,UAEA,UAGb,OAAOG,C,CA1DclD,SAASC,eAAe,aAgGhCkD,iBAAiB,SAAS,KACvCxD,IACAO,EAAUP,EAAK,IAlFRS,MAFK,yGAGTC,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACJV,EAASU,EAAK4C,MAAM,IAErBnB,OAAMC,GAASC,QAAQC,IAAIF,KAiFpB7B,MAAK,IAAMH,EAAUP","sources":["src/partials_js/weekly_trends.js"],"sourcesContent":["const apiKey = '2fd9551be199200f928abc93ae4bceb1'; // Wstaw swój klucz API\n\nlet page = 1;\nlet currentMovieIndex = 0; // Index aktualnie wyświetlanego filmu\nlet moviesList = []; // Lista przechowująca pobrane filmy\nlet genres = []; // Lista przechowująca pobrane gatunki\nconst moviesContainer = document.getElementById('movies');\nconst loadMoreButton = document.getElementById('load-more');\n\n// Funkcja do pobierania liczby filmów na podstawie szerokości ekranu\nfunction getMoviesPerLoad() {\n  const screenWidth = window.innerWidth;\n  if (screenWidth < 768) {\n    return 1; // Wyświetl 1 film na urządzeniach mobilnych\n  } else {\n    return 3; // Wyświetl 3 filmy na tabletach i laptopach\n  }\n}\n\n// Funkcja do pobierania gatunków z TMDb API\nfunction getGenres() {\n  const url = `https://api.themoviedb.org/3/genre/movie/list?api_key=${apiKey}&language=pl-PL`;\n\n  return fetch(url)\n    .then(response => response.json())\n    .then(data => {\n      genres = data.genres;\n    })\n    .catch(error => console.log(error));\n}\n\n// Funkcja do pobierania filmów z TMDb API\nfunction getMovies(page) {\n  const url = `https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}&language=pl-PL&page=${page}`;\n\n  fetch(url)\n    .then(response => response.json())\n    .then(data => {\n      moviesList = moviesList.concat(data.results); // Dodaj filmy do listy\n      displayMovies(); // Wyświetl filmy z nowo pobranych\n    })\n    .catch(error => console.log(error));\n}\n\n// Funkcja do dopasowania gatunków do filmów\nfunction getGenreNames(genreIds) {\n  return genreIds\n    .map(id => {\n      const genre = genres.find(g => g.id === id);\n      return genre ? genre.name : 'Nieznany gatunek';\n    })\n    .slice(0, 2) // Ogranicz do dwóch gatunków\n    .join(', ');\n}\n\nfunction getStars(vote) {\n  const fullStars = Math.floor(vote / 2);\n  let stars = '';\n  for (let i = 0; i < 5; i++) {\n    if (i < fullStars) {\n      stars += '&#9733;'; // Pełna gwiazdka\n    } else {\n      stars += '&#9734;'; // Pusta gwiazdka\n    }\n  }\n  return stars;\n}\n\n// Funkcja do wyświetlania filmów\nfunction displayMovies() {\n  const moviesPerLoad = getMoviesPerLoad(); // Pobierz liczbę filmów do załadowania\n\n  for (let i = 0; i < moviesPerLoad; i++) {\n    if (currentMovieIndex < moviesList.length) {\n      const movie = moviesList[currentMovieIndex]; // Pobierz aktualny film\n      const genreNames = getGenreNames(movie.genre_ids); // Pobierz nazwy gatunków dla filmu\n\n      const movieCard = document.createElement('div');\n      movieCard.classList.add('movie-card');\n\n      movieCard.innerHTML = `\n        <img src=\"https://image.tmdb.org/t/p/w500${movie.poster_path}\" alt=\"${\n        movie.title\n      }\">\n        <div class=\"movie-info\">\n          <h2 class=\"movie-title\">${movie.title}</h2>\n          <p>${genreNames} | ${movie.release_date.split('-')[0]}</p>\n          <div class=\"stars\">${getStars(movie.vote_average)}</div>\n        </div>\n      `;\n\n      moviesContainer.appendChild(movieCard);\n      currentMovieIndex++; // Zwiększ indeks filmu\n    } else {\n      // Jeśli filmy się skończą, załaduj kolejną stronę\n      page++;\n      getMovies(page);\n      break; // Zakończ pętlę, aby czekać na załadowanie nowych filmów\n    }\n  }\n}\n\n// Obsługa przycisku \"Załaduj więcej\"\nloadMoreButton.addEventListener('click', () => {\n  page++;\n  getMovies(page);\n});\n\n// Najpierw pobierz listę gatunków, a potem filmy\ngetGenres().then(() => getMovies(page));\n"],"names":["$1c37256d6a082d60$var$page","$1c37256d6a082d60$var$currentMovieIndex","$1c37256d6a082d60$var$moviesList","$1c37256d6a082d60$var$genres","$1c37256d6a082d60$var$moviesContainer","document","getElementById","$1c37256d6a082d60$var$getMovies","page1","fetch","then","response","json","data","concat","results","moviesPerLoad","window","innerWidth","i","length","movie","genreNames","$1c37256d6a082d60$var$getGenreNames","genre_ids","movieCard","createElement","classList","add","innerHTML","poster_path","title","release_date","split","$1c37256d6a082d60$var$getStars","vote_average","appendChild","$1c37256d6a082d60$var$displayMovies","catch","error","console","log","genreIds","map","id","genre","find","g","name","slice","join","vote","fullStars","Math","floor","stars","addEventListener","genres"],"version":3,"file":"index.a470ddc5.js.map"}