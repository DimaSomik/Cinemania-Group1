{"mappings":"YAAA,IAqBQA,EArBFC,EAAS,mCAEXC,EAAO,EACPC,EAAoB,EACpBC,EAAa,GACbC,EAAS,GACPC,EAAkBC,SAASC,eAAe,UA0B/C,SAAQC,EAAUC,GACjB,IAAMV,EAAM,sDAAoFW,OAA9BV,EAAO,yBAA4BU,OAALD,GAEhGE,MAAMZ,GACHa,MAAK,SAAAC,G,OAAYA,EAASC,M,IAC1BF,MAAK,SAAAG,GACJZ,EAAaA,EAAWO,OAAOK,EAAKC,SA+BxC,WAGG,IAFH,IAAMC,EA3DcC,OAAOC,WACT,IACT,EAEA,EAyDAC,EAAI,EAAGA,EAAIH,EAAeG,IACjC,MAAIlB,EAAoBC,EAAWkB,QAoB5B,CAGLb,IADOP,GAEP,K,CAvBA,IAAMqB,EAAQnB,EAAWD,GACnBqB,EAAaC,EAAcF,EAAMG,WAEjCC,EAAYpB,SAASqB,cAAc,OACzCD,EAAUE,UAAUC,IAAI,cAExBH,EAAUI,UAAY,sDAEpBpB,OAD2CY,EAAMS,YAAY,WAIjCrB,OAH5BY,EAAMU,MACP,4EAGQtB,OADqBY,EAAMU,MAAM,wBACjBtB,OAAhBa,EAAW,OACKb,OADAY,EAAMW,aAAaC,MAAM,KAAK,GAAG,uCACJxB,OAA7ByB,EAASb,EAAMc,cAAc,kCAItD/B,EAAgBgC,YAAYX,GAC5BxB,G,EArDAoC,E,IAEDC,OAAM,SAAAC,G,OAASC,QAAQC,IAAIF,E,IAI9B,SAAOhB,EAAcmB,GACrB,OAAOA,EACJC,KAAI,SAAAC,GACH,IAAMC,EAAQ1C,EAAO2C,MAAK,SAAAC,G,OAAKA,EAAEH,KAAOA,C,IACxC,OAAOC,EAAQA,EAAMG,KAAO,kB,IAE7BC,MAAM,EAAG,GACPC,KAAG,K,CAGV,SAAShB,EAASiB,GAGhB,IAFA,IAAMC,EAAYC,KAAKC,MAAMH,EAAO,GAChCI,EAAQ,GACHpC,EAAI,EAAGA,EAAI,EAAGA,IAEnBoC,GADEpC,EAAIiC,EACG,UAEA,UAGb,OAAOG,C,CA1DclD,SAASC,eAAe,aAgGhCkD,iBAAiB,SAAS,WAEvCjD,IADAP,E,KAnFMF,EAAM,yDAAgEW,OAAPV,EAAO,mBAErEW,MAAMZ,GACVa,MAAK,SAAAC,G,OAAYA,EAASC,M,IAC1BF,MAAK,SAAAG,GACJX,EAASW,EAAK2C,M,IAEfnB,OAAM,SAAAC,G,OAASC,QAAQC,IAAIF,E,KAiFpB5B,MAAK,W,OAAMJ,EAAUP,E","sources":["src/partials_js/weekly_trends.js"],"sourcesContent":["const apiKey = '2fd9551be199200f928abc93ae4bceb1'; // Wstaw swój klucz API\n\nlet page = 1;\nlet currentMovieIndex = 0; // Index aktualnie wyświetlanego filmu\nlet moviesList = []; // Lista przechowująca pobrane filmy\nlet genres = []; // Lista przechowująca pobrane gatunki\nconst moviesContainer = document.getElementById('movies');\nconst loadMoreButton = document.getElementById('load-more');\n\n// Funkcja do pobierania liczby filmów na podstawie szerokości ekranu\nfunction getMoviesPerLoad() {\n  const screenWidth = window.innerWidth;\n  if (screenWidth < 768) {\n    return 1; // Wyświetl 1 film na urządzeniach mobilnych\n  } else {\n    return 3; // Wyświetl 3 filmy na tabletach i laptopach\n  }\n}\n\n// Funkcja do pobierania gatunków z TMDb API\nfunction getGenres() {\n  const url = `https://api.themoviedb.org/3/genre/movie/list?api_key=${apiKey}&language=pl-PL`;\n\n  return fetch(url)\n    .then(response => response.json())\n    .then(data => {\n      genres = data.genres;\n    })\n    .catch(error => console.log(error));\n}\n\n// Funkcja do pobierania filmów z TMDb API\nfunction getMovies(page) {\n  const url = `https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}&language=pl-PL&page=${page}`;\n\n  fetch(url)\n    .then(response => response.json())\n    .then(data => {\n      moviesList = moviesList.concat(data.results); // Dodaj filmy do listy\n      displayMovies(); // Wyświetl filmy z nowo pobranych\n    })\n    .catch(error => console.log(error));\n}\n\n// Funkcja do dopasowania gatunków do filmów\nfunction getGenreNames(genreIds) {\n  return genreIds\n    .map(id => {\n      const genre = genres.find(g => g.id === id);\n      return genre ? genre.name : 'Nieznany gatunek';\n    })\n    .slice(0, 2) // Ogranicz do dwóch gatunków\n    .join(', ');\n}\n\nfunction getStars(vote) {\n  const fullStars = Math.floor(vote / 2);\n  let stars = '';\n  for (let i = 0; i < 5; i++) {\n    if (i < fullStars) {\n      stars += '&#9733;'; // Pełna gwiazdka\n    } else {\n      stars += '&#9734;'; // Pusta gwiazdka\n    }\n  }\n  return stars;\n}\n\n// Funkcja do wyświetlania filmów\nfunction displayMovies() {\n  const moviesPerLoad = getMoviesPerLoad(); // Pobierz liczbę filmów do załadowania\n\n  for (let i = 0; i < moviesPerLoad; i++) {\n    if (currentMovieIndex < moviesList.length) {\n      const movie = moviesList[currentMovieIndex]; // Pobierz aktualny film\n      const genreNames = getGenreNames(movie.genre_ids); // Pobierz nazwy gatunków dla filmu\n\n      const movieCard = document.createElement('div');\n      movieCard.classList.add('movie-card');\n\n      movieCard.innerHTML = `\n        <img src=\"https://image.tmdb.org/t/p/w500${movie.poster_path}\" alt=\"${\n        movie.title\n      }\">\n        <div class=\"movie-info\">\n          <h2 class=\"movie-title\">${movie.title}</h2>\n          <p>${genreNames} | ${movie.release_date.split('-')[0]}</p>\n          <div class=\"stars\">${getStars(movie.vote_average)}</div>\n        </div>\n      `;\n\n      moviesContainer.appendChild(movieCard);\n      currentMovieIndex++; // Zwiększ indeks filmu\n    } else {\n      // Jeśli filmy się skończą, załaduj kolejną stronę\n      page++;\n      getMovies(page);\n      break; // Zakończ pętlę, aby czekać na załadowanie nowych filmów\n    }\n  }\n}\n\n// Obsługa przycisku \"Załaduj więcej\"\nloadMoreButton.addEventListener('click', () => {\n  page++;\n  getMovies(page);\n});\n\n// Najpierw pobierz listę gatunków, a potem filmy\ngetGenres().then(() => getMovies(page));\n\nlet moviesLoaded = false;\n\nfunction loadMoreMovies() {\n  if (!moviesLoaded) {\n    // Symulacja ładowania filmów (w rzeczywistości tu może być API)\n    const newMovies = [\n      { title: 'Movie 4', year: 2023 },\n      { title: 'Movie 5', year: 2023 },\n      { title: 'Movie 6', year: 2023 },\n    ];\n\n    const movieList = document.getElementById('movies');\n\n    newMovies.forEach(movie => {\n      const movieCard = document.createElement('div');\n      movieCard.classList.add('movie-card');\n      movieCard.innerHTML = `\n        <h3>${movie.title}</h3>\n        <p>${movie.year}</p>\n      `;\n      movieList.insertBefore(movieCard, document.getElementById('load more')); // Wstaw przed przyciskiem\n    });\n\n    // Zaznacz, że załadowano filmy, aby zapobiec wielokrotnemu ładowaniu\n    moviesLoaded = true;\n\n    // Możesz ukryć przycisk See All, jeśli nie chcesz go pokazywać po załadowaniu\n    document.getElementById('load more').style.display = 'none';\n  }\n}\n"],"names":["url","$9dcb73f6d6238453$var$apiKey","$9dcb73f6d6238453$var$page","$9dcb73f6d6238453$var$currentMovieIndex","$9dcb73f6d6238453$var$moviesList","$9dcb73f6d6238453$var$genres","$9dcb73f6d6238453$var$moviesContainer","document","getElementById","$9dcb73f6d6238453$var$getMovies","page1","concat","fetch","then","response","json","data","results","moviesPerLoad","window","innerWidth","i","length","movie","genreNames","$9dcb73f6d6238453$var$getGenreNames","genre_ids","movieCard","createElement","classList","add","innerHTML","poster_path","title","release_date","split","$9dcb73f6d6238453$var$getStars","vote_average","appendChild","$9dcb73f6d6238453$var$displayMovies","catch","error","console","log","genreIds","map","id","genre","find","g","name","slice","join","vote","fullStars","Math","floor","stars","addEventListener","genres"],"version":3,"file":"index.06a45c7f.js.map"}