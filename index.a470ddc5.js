let e=1,t=0,n=[],i=[];const o=document.getElementById("movies");function a(i){fetch(`https://api.themoviedb.org/3/movie/popular?api_key=2fd9551be199200f928abc93ae4bceb1&language=pl-PL&page=${i}`).then((e=>e.json())).then((i=>{n=n.concat(i.results),function(){const i=window.innerWidth<768?1:3;for(let l=0;l<i;l++){if(!(t<n.length)){e++,a(e);break}{const e=n[t],i=c(e.genre_ids),a=document.createElement("div");a.classList.add("movie-card"),a.innerHTML=`\n        <img src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.title}">\n        <div class="movie-info">\n          <h2 class="movie-title">${e.title}</h2>\n          <p>${i} | ${e.release_date.split("-")[0]}</p>\n          <div class="stars">${s(e.vote_average)}</div>\n        </div>\n      `,o.appendChild(a),t++}}}()})).catch((e=>console.log(e)))}function c(e){return e.map((e=>{const t=i.find((t=>t.id===e));return t?t.name:"Nieznany gatunek"})).slice(0,2).join(", ")}function s(e){const t=Math.floor(e/2);let n="";for(let e=0;e<5;e++)n+=e<t?"&#9733;":"&#9734;";return n}document.getElementById("load-more").addEventListener("click",(()=>{e++,a(e)})),fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=2fd9551be199200f928abc93ae4bceb1&language=pl-PL").then((e=>e.json())).then((e=>{i=e.genres})).catch((e=>console.log(e))).then((()=>a(e)));
//# sourceMappingURL=index.a470ddc5.js.map
